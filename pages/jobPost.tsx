import Head from "next/head";
import Navbar from "../components/Navbar";
import {
    Box,
    Button,
    Center,
    Checkbox,
    Container,
    HStack,
    Icon,
    Input,
    Select,
    Text,
    VStack,
} from "@chakra-ui/react";
const SimpleMdeReact = dynamic(() => import("react-simplemde-editor"), {
    ssr: false,
});
import { useCallback, useRef, useState } from "react";
import dynamic from "next/dynamic";
import "easymde/dist/easymde.min.css";
import { AddIcon, PlusSquareIcon } from "@chakra-ui/icons";

export default function Home() {
    const hiddenFileInput = useRef(null);
    const [description, setDescription] = useState(
        "Write your Job Description here!"
    );
    const [visaSponsorship, setVisaSponsorship] = useState(false);
    const onChange = useCallback((value: string) => {
        setDescription(value);
    }, []);

    const [file, setFile] = useState<File>();

    const handleClick = () => {
        if (hiddenFileInput.current) {
            (hiddenFileInput?.current as any).click();
        }
    };

    const handleChange = (event: any) => {
        const fileUploaded = event.target.files[0];
        setFile(fileUploaded);
    };

    console.log(visaSponsorship);

    return (
        <>
            <Head>
                <title>Upfront - Post a Job</title>
                <meta
                    name="description"
                    content="Generated by create next app"
                />
                <meta
                    name="viewport"
                    content="width=device-width, initial-scale=1"
                />
                <link
                    rel="icon"
                    href="/upfront/svg/favicon-no-background.svg"
                />
            </Head>
            <main>
                <Container
                    maxWidth={{ base: "100%", md: "70%", lg: "60%" }}
                    mb="1rem"
                >
                    <Navbar />
                    <Text mb="1rem">Post a Job</Text>
                    <Text fontWeight={"700"} mb="1rem">
                        We require that companies are Upfront about their
                        salaries. All job postings must contain a salary range.
                    </Text>
                    <Center>
                        <VStack width="80%" alignItems={"start"} mb="1rem">
                            <Text
                                fontWeight={"700"}
                                fontSize={"2rem"}
                                mb="0.5rem"
                            >
                                Create a Job Post:
                            </Text>
                            <Input
                                type="text"
                                placeholder="Job Title"
                                mb="0.5rem"
                                // onChange={(e) =>
                                //     // displayCriteriaSuggestions(e.target.value)
                                // }
                                // value={criteria}
                            />
                            <Input
                                type="text"
                                placeholder="Job Location"
                                mb="0.5rem"
                                // onChange={(e) =>
                                //     // displayCriteriaSuggestions(e.target.value)
                                // }
                                // value={criteria}
                            />
                            <HStack width="100%" mb="0.5rem">
                                <Input
                                    type="number"
                                    placeholder="Min Annual Salary"
                                    // onChange={(e) =>
                                    //     // displayCriteriaSuggestions(e.target.value)
                                    // }
                                    // // value={criteria}
                                />
                                <Input
                                    type="number"
                                    placeholder="Max Annual Salary"
                                    // onChange={(e) =>
                                    //     // displayCriteriaSuggestions(e.target.value)
                                    // }
                                    // // value={criteria}
                                />
                                <Select>
                                    <option>GBP</option>
                                    <option>USD</option>
                                    <option>EUR</option>
                                    <option>AUD</option>
                                    <option>CAD</option>
                                    <option>SGD</option>
                                    <option>CHF</option>
                                    <option>INR</option>
                                    <option>JPY</option>
                                </Select>
                                <Text>a year</Text>
                            </HStack>
                            <Input
                                type="text"
                                placeholder="Company Name"
                                mb="0.5rem"
                            />
                            <Input
                                type="text"
                                placeholder="Company Website"
                                mb="0.5rem"
                            />
                            <HStack>
                                <Button
                                    className="button-upload"
                                    onClick={handleClick}
                                    bg={"upfront.300"}
                                    _hover={{
                                        bg: "upfront.200",
                                    }}
                                    color="white"
                                    mb="0.5rem"
                                >
                                    <AddIcon mr="0.5rem" />
                                    Upload Company Logo
                                </Button>
                                <input
                                    type="file"
                                    accept="image/*"
                                    onChange={handleChange}
                                    ref={hiddenFileInput}
                                    style={{ display: "none" }} // Make the file input element invisible
                                />
                                {file && <Text>{file.name}</Text>}
                            </HStack>

                            <SimpleMdeReact
                                style={{
                                    width: "100%",
                                }}
                                value={description}
                                onChange={onChange}
                            />

                            <Checkbox
                                mb="0.5rem"
                                onChange={() =>
                                    setVisaSponsorship(!visaSponsorship)
                                }
                            >
                                VISA Sponsorship offered?
                            </Checkbox>

                            <Input
                                type="text"
                                placeholder="How to apply (Email or URL)"
                                mb="0.5rem"
                                // onChange={(e) =>
                                //     // displayCriteriaSuggestions(e.target.value)
                                // }
                                // value={criteria}
                            />
                            <Input
                                type="text"
                                placeholder="Your email (will be used to log in)"
                                mb="0.5rem"
                                // onChange={(e) =>
                                //     // displayCriteriaSuggestions(e.target.value)
                                // }
                                // value={criteria}
                            />
                        </VStack>
                    </Center>
                </Container>
            </main>
        </>
    );
}
